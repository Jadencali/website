@{
    ViewBag.Title = "Who Is Online";
    <script src="~/Scripts/jquery.signalR-2.2.0.min.js"></script>
    <script src="~/signalr/hubs"></script>
    
    <script>
        $(function () {
            // Reference the auto-generated proxy for the hub.
            var chatHub = $.connection.chatHub;
            // Create a function that the hub can call back to display messages.
            $.connection.hub.qs = "arenaId=" + getQueryStringValueByKey("aid");
            registerClientMethods(chatHub)
          
            // Start the connection.
            $.connection.hub.start().done(function () {
                registerEvents(chatHub)
            });
        });

        function registerEvents(chatHub) {
            chatHub.server.connect(userName, userId);
          
        }
        function registerClientMethods(chatHub) {
            chatHub.client.onConnected = function (id, userName, userId, allUsers, messages) {
                alert('test');
            }
        }
    
        function getQueryStringValueByKey(key) {
            var url = window.location.href;
            var values = url.split(/[\?&]+/);
            for (i = 0; i < values.length; i++) {
                var value = values[i].split("=");
                if (value[0] == key) {
                    return value[1];
                }
            }
        }
     
    </script>
}
<div id="home">
    <div class="container">
        <div id="services">
            <div class="row">
                <div class="col-sm-10 col-sm-offset-1 col-md-10 col-md-offset-1 col-lg-10 col-lg-offset-1 ">
                    <div class="panel panel-primary">
                        <div class="panel-heading text-left">
                            <span><i class="ion ion-ios-people fa-fw"></i>Who Is Online </span>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">

                            <table class="table table-striped table-hover  text-dark-space text-left small ">
                                <thead class="text-center well-bg-meron-odd">
                                    <tr>
                                        <th>Username</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                      <td></td><td></td>
                                  </tr>
                                   
                                </tbody>
                            </table>

                        </div>
                        <!-- /.panel-body -->
                   
                    </div>


                </div>
            </div>
        </div>

    </div>
</div>

